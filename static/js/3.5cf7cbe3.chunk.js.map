{"version":3,"sources":["containers/Checkout/ContactData/ContactData.module.css","components/Order/CheckoutSummary/CheckoutSummary.js","containers/Checkout/ContactData/ContactData.js","containers/Checkout/Checkout.js","components/UI/Input/Input.js","components/UI/Input/Input.module.css","shared/validation.js","components/Order/CheckoutSummary/CheckoutSummary.module.css"],"names":["module","exports","checkoutSummary","props","className","classes","CheckoutSummary","style","width","margin","Burger","ingredients","Button","btnType","click","checkoutCancelled","checkoutContinued","ContactData","state","orderForm","name","elementType","elementConfig","type","placeholder","error","value","validation","required","valid","touched","email","isEmail","street","postalCode","minLength","maxLength","isNumeric","country","deliveryMethod","options","displayValue","formIsValid","orderHandler","e","preventDefault","formData","formElementIdentifier","order","ings","price","toFixed","orderData","userId","onOrderBurger","token","history","push","inputChangedHandler","inputIdentifier","updatedFormElement","updateObject","target","checkValidity","updatedOrderForm","setState","formElementsArray","key","this","id","config","form","onSubmit","map","formElement","Input","changed","invalid","shouldValidate","valueType","disabled","loading","Spinner","Component","connect","burgerBuilder","totalPrice","auth","dispatch","orderActions","withErrorHandler","axios","Checkout","checkoutCancelledHandler","goBack","checkoutContinuedHandler","replace","summary","to","purchasedRedirect","purchased","path","match","component","input","inputElement","validationError","inputClasses","InputElement","Invalid","ValidationError","join","onChange","option","LabelElement","label","rules","isValid","trim","length","test"],"mappings":"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","file":"static/js/3.5cf7cbe3.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ContactData\":\"ContactData_ContactData__20AK_\"};","import React from \"react\";\nimport classes from './CheckoutSummary.module.css';\nimport Burger from './../../Burger/Burger';\nimport Button from './../../UI/Button/Button';\n\nconst checkoutSummary = (props) => {\n    return (\n        <div className={classes.CheckoutSummary}>\n            <h1>We hope it tastes well!</h1>\n            <div style={{width: '100%', margin: 'auto'}}>\n                <Burger ingredients={props.ingredients}/>\n            </div>\n            <Button btnType=\"Danger\" click={props.checkoutCancelled}>CANCEL</Button>\n            <Button btnType=\"Success\"  click={props.checkoutContinued}>CONTINUE</Button>\n        </div>\n    )\n}\n\nexport default checkoutSummary;","import React, {Component} from \"react\";\nimport Button from './../../../components/UI/Button/Button';\nimport classes from './ContactData.module.css';\nimport axios from '../../../axios/axios-orders';\nimport Spinner from './../../../components/UI/Spinner/Spinner';\nimport Input from './../../../components/UI/Input/Input';\nimport {connect} from \"react-redux\";\nimport withErrorHandler from \"../../../hoc/withErrorHandler/withErrorHandler\";\nimport * as orderActions from \"../../../store/actions/index\";\nimport { updateObject } from \"../../../shared/utility\";\nimport { checkValidity } from '../../../shared/validation';\n\nclass ContactData extends Component {\n    state = {\n        orderForm: {\n            name: {\n                elementType: 'input',\n                elementConfig: {\n                    type: 'text',\n                    placeholder: 'Your Name',\n                    error: 'name'\n                },\n                value: '',\n                validation: {\n                    required: true\n                },\n                valid: false,\n                touched: false\n            },\n            email: {\n                elementType: 'input',\n                elementConfig: {\n                    type: 'email',\n                    placeholder: 'Your Email',\n                    error: 'email'\n                },\n                value: '',\n                validation: {\n                    required: true,\n                    isEmail: true\n                },\n                valid: false,\n                touched: false\n            },\n            street: {\n                elementType: 'input',\n                elementConfig: {\n                    type: 'text',\n                    placeholder: 'Your Street',\n                    error: 'street'\n                },\n                value: '',\n                validation: {\n                    required: true\n                },\n                valid: false,\n                touched: false\n            },\n            postalCode: {\n                elementType: 'input',\n                elementConfig: {\n                    type: 'text',\n                    placeholder: 'Your Postal Code',\n                    error: 'postal code'\n                },\n                value: '',\n                validation: {\n                    required: true,\n                    minLength: 5,\n                    maxLength: 5,\n                    isNumeric: true\n                },\n                valid: false,\n                touched: false\n            },\n            country: {\n                elementType: 'input',\n                elementConfig: {\n                    type: 'text',\n                    placeholder: 'Your Country',\n                    error: 'country'\n                },\n                value: '',\n                validation: {\n                    required: true\n                },\n                valid: false,\n                touched: false\n            },\n            deliveryMethod: {\n                elementType: 'select',\n                elementConfig: {\n                    options: [\n                        {value: 'fastest', displayValue: 'Fastest'},\n                        {value: 'cheapest', displayValue: 'Cheapest'},\n                    ]\n                },\n                value: 'fastest',\n                validation: {},\n                valid: true\n            }\n        },\n        formIsValid: false\n    }\n\n    orderHandler = (e) => {\n        e.preventDefault();\n\n        const formData = {};\n\n        for (let formElementIdentifier in this.state.orderForm) {\n            formData[formElementIdentifier] = this.state.orderForm[formElementIdentifier].value;\n        }\n\n        const order = {\n            ingredients: this.props.ings,\n            price: this.props.price.toFixed(2),\n            orderData: formData,\n            userId: this.props.userId\n        }\n\n        this.props.onOrderBurger(order, this.props.token);\n        this.props.history.push('/');\n    }\n\n    inputChangedHandler = (e, inputIdentifier) => {\n\n        const updatedFormElement = updateObject(this.state.orderForm[inputIdentifier], {\n            value: e.target.value,\n            valid: checkValidity(e.target.value, this.state.orderForm[inputIdentifier].validation),\n            touched: true\n        });\n        const updatedOrderForm = updateObject(this.state.orderForm, {\n            [inputIdentifier]: updatedFormElement\n        });\n\n        let formIsValid = true;\n        for (let inputIdentifier in updatedOrderForm) {\n            formIsValid = updatedOrderForm[inputIdentifier].valid && formIsValid;\n        }\n\n        this.setState({\n            orderForm: updatedOrderForm,\n            formIsValid: formIsValid\n        })\n    }\n\n    render() {\n\n        const formElementsArray = [];\n        for (let key in this.state.orderForm) {\n            formElementsArray.push({\n                id: key,\n                config: this.state.orderForm[key]\n            })\n        }\n\n        let form = (\n            <form onSubmit={this.orderHandler}>\n                {formElementsArray.map(formElement => (\n                    <Input\n                        key={formElement.id}\n                        elementType={formElement.config.elementType}\n                        elementConfig={formElement.config.elementConfig}\n                        value={formElement.config.value}\n                        changed={(e) => this.inputChangedHandler(e, formElement.id)}\n                        invalid={!formElement.config.valid}\n                        shouldValidate={formElement.config.validation}\n                        touched={formElement.config.touched}\n                        valueType={formElement.config.elementConfig.error}/>\n                ))}\n                <Button btnType='Success' disabled={!this.state.formIsValid}>ORDER</Button>\n            </form>\n        )\n\n        if(this.props.loading) {\n            form = <Spinner/>;\n        }\n\n        return (\n            <div className={classes.ContactData}>\n                <h4>Enter Your Contact Data</h4>\n                {form}\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        ings: state.burgerBuilder.ingredients,\n        price: state.burgerBuilder.totalPrice,\n        loading: state.order.loading,\n        token: state.auth.token,\n        userId: state.auth.userId\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        onOrderBurger: (orderData, token) => dispatch(orderActions.purchaseBurger(orderData, token))\n    }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withErrorHandler(ContactData, axios));","import React, {Component} from \"react\";\nimport CheckoutSummary from './../../components/Order/CheckoutSummary/CheckoutSummary';\nimport ContactData from \"./ContactData/ContactData\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport {connect} from \"react-redux\";\n\nclass Checkout extends Component {\n\n    checkoutCancelledHandler = () => {\n        this.props.history.goBack();\n    }\n\n    checkoutContinuedHandler = () => {\n        this.props.history.replace('/checkout/contact-data');\n    }\n\n    render() {\n        let summary = <Redirect to='/'/>\n        if (this.props.ings) {\n            const purchasedRedirect = this.props.purchased ? <Redirect to='/'/> : null;\n            summary = (\n                <div>\n                    {purchasedRedirect}\n                    <CheckoutSummary\n                        ingredients={this.props.ings}\n                        checkoutCancelled={this.checkoutCancelledHandler}\n                        checkoutContinued={this.checkoutContinuedHandler}/>\n                    <Route path={this.props.match.path + '/contact-data'}\n                           component={ContactData}/>\n                </div>\n            )\n        }\n        return (\n            <div>\n                {summary}\n            </div>\n        )\n    }\n\n}\n\nconst mapStateToProps = state => {\n    return {\n        ings: state.burgerBuilder.ingredients,\n        purchased: state.order.purchased\n    }\n}\nexport default connect(mapStateToProps)(Checkout);","import React from \"react\";\nimport classes from './Input.module.css';\n\nconst input = (props) => {\n    let inputElement;\n    const inputClasses = [classes.InputElement];\n    let validationError;\n\n    if (props.invalid && props.shouldValidate && props.touched) {\n        inputClasses.push(classes.Invalid);\n        validationError = <p className={classes.ValidationError}>Please enter a valid {props.valueType}</p>;\n    }\n\n    switch (props.elementType) {\n        case ('input'):\n            inputElement = <input\n                className={inputClasses.join(' ')}\n                {...props.elementConfig}\n                value={props.value}\n                onChange={props.changed}/>\n            break;\n        case ('textarea'):\n            inputElement = <textarea\n                className={inputClasses.join(' ')}\n                {...props.elementConfig}\n                value={props.value}\n                onChange={props.changed}/>\n            break;\n        case ('select'):\n            inputElement =\n                <select\n                    className={inputClasses.join(' ')}\n                    value={props.value}\n                    onChange={props.changed}>\n                    {props.elementConfig.options.map(option => (\n                        <option\n                            key={option.value}\n                            value={option.value}>\n                            {option.displayValue}\n                        </option>\n                    ))}\n                </select>\n            break;\n        default:\n            inputElement = <input\n                className={inputClasses.join(' ')}\n                {...props.elementConfig}\n                value={props.value}/>\n    }\n\n    return (\n        <div className={classes.Input}>\n            <label className={classes.LabelElement}>{props.label}</label>\n            {inputElement}\n            {validationError}\n        </div>\n    )\n\n}\n\nexport default input;\n\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Input\":\"Input_Input__3r5Ke\",\"LabelElement\":\"Input_LabelElement__t-mOv\",\"InputElement\":\"Input_InputElement__2m88K\",\"Invalid\":\"Input_Invalid__16Mis\",\"ValidationError\":\"Input_ValidationError__qMR97\"};","export const checkValidity = (value, rules) => {\n    let isValid = true;\n    if (!rules) {\n        return true;\n    }\n\n    if (rules.required) {\n        isValid = value.trim() !== '' && isValid;\n    }\n\n    if (rules.minLength) {\n        isValid = value.length >= rules.minLength && isValid\n    }\n\n    if (rules.maxLength) {\n        isValid = value.length <= rules.maxLength && isValid\n    }\n\n    if (rules.isEmail) {\n        const pattern = /[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/;\n        isValid = pattern.test(value) && isValid\n    }\n\n    if (rules.isNumeric) {\n        const pattern = /^\\d+$/;\n        isValid = pattern.test(value) && isValid\n    }\n\n    return isValid;\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"CheckoutSummary\":\"CheckoutSummary_CheckoutSummary__3PsXi\"};"],"sourceRoot":""}